---
title: NewArticle
date: 2018-08-29
draft: true
---

私の趣味の一つがインターネットだ。特に古い時代のネット文化に並々ならぬ興味をそそられている。しばらく前にCSSで使われているカラーネームの由来を調査したが、最近また新たに気になることを見つけてしまった。ブラウザで画像を表示する時のタグについてだ。
ブラウザでインライン画像（つまり文章中の画像）を表示するとき、以下のように記述する。
```html
<img src="https://example.com/image.png"> 
```
画像の形式は色々あるし閉じタグをどうするかとかもあるが、しかし概ねみんなこうやってかく。ところでこの`img`タグ、なんとエイリアスが存在している。上のタグは、以下のようにも記述できるのだ。
```html
<image src="https://example.com/image.png"> 
```
実は`img`ではなく`image`でもブラウザは画像を表示させるマークアップであると解釈し、`img`に変換して表示するのだ。HTMLタグには似た要素もたくさん存在するが（`<em>`と`<strong>`と`<b>`みたいなね）、全く同じ意味合いで、ただのエイリアスとして存在するタグはこれだけだ。HTML5の仕様にはこのようなタグは存在しないものの、主流なブラウザでは軒並み実装されている。しかし一体なぜこのようになっているのだろう。疑問に思って調べてみた。
Web系の開発者が日々参考にしているMDNには以下のような記述がある。（引用は日本語版から）
*https://developer.mozilla.org/ja/docs/Web/HTML/Element/image*
> 廃止されたHTML 画像要素 (<image\>) は、時間の霧の中で失われた古代版の HTML の廃止された残骸です。
> これは一旦は仕様書に入る可能性がありましたが、誰も覚えていないようです。確かにそのようになっていません。ペストのように避けてください。
「**時間の霧の中で失われた古代版のHTMLの廃止された残骸**」「**ペストのように避けてください**」という風変わりな表現で非推奨タグであることを説明している。ではいつ誰がなぜこのタグを追加し、ひっそりと生きながらえながらも時間の霧の中で忘れ去られていったのだろうということに興味がわいてきた。
![](https://upload.wikimedia.org/wikipedia/commons/e/ea/Paul_F%C3%BCrst%2C_Der_Doctor_Schnabel_von_Rom_%28coloured_version%29.png)
*ペストドクター。特徴的なマスクには香辛料が詰まっていたらしい*
まずはじめにHTMLの最初期のバージョンにおいて、画像がどうやって表示されていたのかを調べてみよう。現在主に使用されているHTMLは2014年に勧告されたバージョン5というもので、W3Cによって勧告されている。W3Cが生まれる前までのHTMLは、その仕様をRFCで管理されており、つまりIETFによって策定されていた。現存する最古の公式な仕様はバージョン2のもので、内容は以下のURLで確認できる。
https://tools.ietf.org/html/rfc1866
```
Examples of use:
    <IMG SRC="triangle.xbm" ALT="Warning:"> Be sure
    to read these instructions.
    <a href="http://machine/htbin/imagemap/sample">
    <IMG SRC="sample.xbm" ISMAP>
    </a>
```
Section 5.10を見ると、すでにこの段階で`IMG`タグが存在していることがわかる。そしてその`IMG`タグにエイリアスは定義されていない。サンプルコードで使われている画像ファイルの拡張子がXBMなのがなんとも趣深い。ソラリスなんかを使っていたおじさんたちは懐かしく思うだろうか。そんなHTMLのバージョン2が策定されたのは1995年。というわけでさらに古い仕様を探す必要が出てきた。さてバージョン1の仕様はどこにあるのだろう。調べてみると、1993年の6月にIETFのIIIR Workingグループによって提出されたHTMLのアンオフィシャルな仕様書がインターネットドラフトとして公開されたという記録がある。当たり前のことだけど、バージョン1を作る時点ではそれをバージョン1と呼ばれることはあまりない。バージョン2が現れたときに初めて旧存在がバージョン1と呼称されるのだから、この時点ではバージョン番号はついていないが、ここでは便宜上バージョン1と呼ぼう。公開は1993年6月となっている。
*https://www.w3.org/MarkUp/draft-ietf-iiir-html-01.txt*
```
  EXAMPLE
  
        Warning: < IMG SRC ="triangle.gif" ALT="Warning:"> This must be done by a
        qualified technician.
        < A HREF="Go">< IMG SRC ="Button"> Press to start</A>
```
17ページを見てみると、なんとここで使われているタグも`<IMG>`だった。エイリアスも定義されていない。一番最初のHTMLですら`<IMAGE>`タグは使われていなかった。現存する最古のHTML仕様書にも存在しないタグだったのだ。エイリアスを追加する理由が見つからない。
さらに調べてみると、`IMG`タグ誕生の瞬間が古代のメーリングリストのログに残っていた。マーク・アンドリーセンという当時22歳の男子学生の投稿が以下である。あのティムバーナーズリーも議論に参加している。
*http://1997.webhistory.org/www.lists/www-talk.1993q1/0182.html*
```
Marc Andreessen (marca@ncsa.uiuc.edu)
Thu, 25 Feb 93 21:09:02 -0800
I'd like to propose a new, optional HTML tag:
IMG
Required argument is SRC="url". 
```
というわけで、`IMG`タグについてはそれが提唱された当時からずっと`IMG`タグのままだった。どこかのタイミングで`IMAGE`だったものがリネームされたわけではないことだけはわかる。余談だが、この投稿をしたマーク・アンドリーセンはこの直後に起業してNetscape Navigatorというブラウザを開発し、1995年に株式公開をしたことでアメリカを代表する大富豪になったそうである。世界初のインターネット長者かもしれない。彼はその後、AOLやFacebook、HPの取締役を経て現在はベンチャーキャピタルを運営している。
`IMAGE`タグの由来を調べているうちにStackoverflowにも同じ質問があったのを見つけたが、回答の中でも真実は判然としない。
*https://stackoverflow.com/questions/11928566/img-vs-image-tag-in-html*<br>
> Yes and no. As you point out <image\> has been a synonym for <img\> for a long time. I believe it was an early Netscape browser that first did this, possibly to compensate for user error, or possibly because there was dispute at the time whether the element should actually be called <image\> or <img\>.
初期のNetscapeブラウザでユーザーの記述ミスを吸収するために実装されたのではないか、あるいはタグの名前をどちらに決めるかが決まってなかったからではないか、とあるが、調べた限りではNetscapeもInternetExplorerも、独自実装のタグとしての`IMAGE`は存在しない。
*https://docstore.mik.ua/orelly/web2/wdesign/appd_02.htm*<br>
*https://nichibun.net/applications/collection/ac2001/ac0331/webstudy21.5.html*
初期のNetscapeブラウザが最初にこうした、と回答者は書いているが、それだって根拠もなく怪しげだ。ここまできたらもう試してみることにする。 Windows95が発売された1995年夏、Internet Explorer 1.0がMicrosoft Plus!のInternet Jumpstart Kitとして販売されている。また、それに先んじてNetscape Navigator 1.0は1994年の12月にリリースされている。以下のスクリーンショットは、実際に私の手元で検証のために起動させてみた様子だ。これらのブラウザでは、現代の大抵のサイトはもうみることができない。その筋の人には有名な**阿部寛のサイト**だって表示させることはできないほど表現力が貧弱な時代のブラウザだ。
![]()
![]()
```html
<html>
<body>
  <image src="https://assets.imgix.net/examples/kingfisher.jpg?w=200">
  <img src="https://assets.imgix.net/examples/kingfisher.jpg?w=200">
</body>
</html>
```
*中身はこんな感じ*
こんな感じでかなり初期のバージョンを実際に起動して確かめてみたが、`IMAGE`タグはすでに両方のブラウザから使えるようになっていた。しかしブラウザ開発者がわざわざ工数を割いて実装するんだから、なんらかの実装しようと判断した根拠があってもいいはずだ。
となるとおそらく、どこかのタイミングで（おそらくはHTMLのマイナーバージョンで）追加された`IMAGE`タグが、結局ほとんど使われなかったとか役割が重複しているとかで人々に知られないまま削除されたのかもしれない。HTMLのバージョン5でも4でも存在せず、2にも1にもなかった。残るは3だけど、HTMLのバージョン3というのはほとんど使われることのないまま時間の霧の中で失われている。3.0のドラフトは策定中に破棄されてしまい勧告にはいたらず、3.2は勧告された年に4.0が勧告されたため、結局どちらも使われないままとなってしまった。そんな仕様書を探してさぐってみても、そんな3.x系HTMLにも`IMAGE`タグはない。
HTML3.0の仕様書
*https://www.w3.org/MarkUp/html3/html3.txt*
HTML3.2の仕様書（3.1は欠番）
*https://www.w3.org/TR/2018/SPSD-html32-20180315/#img*
となると`IMAGE`タグが導入されたのはHTMLではないのかもしれない。初期のHTML拡張にもいくつかあるので、それらの仕様をのぞいてみよう。きっとそのHTML拡張にNNやIEが対応した結果、明確なHTML仕様に組み込まれないままぼんやりと受け継がれているような気がしてきた。第一次ブラウザ戦争が一番熱かった頃、IEもNNも先進的な機能をどんどん生み出し、「これがHTML3だ！」と言い張るような状態が続いた。次世代のWebはこうあるべきだ、という
HTML+という初期の（失敗してしまった）拡張規格がある。数式をかけたりフットノートを記述できたりといった、学術論文を書くための改良が多数加えられた規格だったらしい。多くの人々の記憶からは失われてしまったであろうが、このHTML+の仕様は現在でもW3Cで配信されている。
*https://www.w3.org/MarkUp/HTMLPlus/htmlplus_1.html*
そしてついに、[セクション5.9 Image](https://www.w3.org/MarkUp/HTMLPlus/htmlplus_21.html)に以下の記述を発見した。
```
Not all display types can show images. The IMAGE element behaves in the same way as IMG*1
but allows you to include descriptive text, which can be shown on text-only displays:
<image align=top src="http://spoof.cern.ch/people/tbl.gif">A photo of
 Tim Berners-Lee</image> Before coming to CERN, Tim worked on, among
 other things, document production and text processing. etc.
On text-only displays, the text within the IMAGE element can be shown in place of the image:
[A photo of Tim Berners-Lee] Before coming to CERN, Tim worked on, 
among other things, document production and text processing. etc.
```
つまり、画像の表示できない環境では、画像の代topiわりにテキストを表示させることができるタグです、ということらしい。今でいうところの`img[alt=ここの文字列]`のことだろう。やっと見つかった。
つまりはこうだ。HTML+で策定された代替テキスト表示機能を備えた`IMAGE`タグを実装したが、その後HTML3.0で代替テキストを表示する機能が現行の`IMG`タグに実装された。HTML+がデザインされたものがHTML3.0へシフトし頼も1993年のことだった。そんなごくわずかな時期に実装されていたのだ。
これならMDNに書かれていた言葉も合点がいく。
> 廃止されたHTML 画像要素 (<image\>) は、時間の霧の中で失われた古代版の HTML の廃止された残骸です。
まさしくその通りだ。夢いっぱいのHTML+規格に含まれていたたくさんの要素のうち、実装の簡易なIMAGEタグを時のブラウザが実装し、その後HTML+自身が時間の霧の中で失われてしまったのだ。初期のブラウザが中途半端に実装してしまったために今もインターネットの一部であり続けている素片の由来、それがやっとわかった。
HTML+の仕様書（というかこれはデザインの紹介に近い）の奥付には、作者の名前が記されている。
> David Raggett, Hewlett Packard Laboratories, October 1993.
彼はHTML+がHTML3.2に発展的に受け継がれた時も、その後のHTML4.0やXHTMLにも仕様策定者として参加していた。
HTMLというマークアップ形式が現れてからすでに25年経過している。ティム・バーナーズ・リーという一人の物理学者がCERNで作ったマークアップ言語がこれほどまでに我々の生活に染み渡り、一体化した状態にあることに奇妙な感動を覚える。この時代に生まれたことに感謝するばかりだ。インターネット最高！